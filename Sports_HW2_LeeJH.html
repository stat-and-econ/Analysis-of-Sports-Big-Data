<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Sports_HW2_LeeJH</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-require-zoom-fix foreignobject { font-size: var(--mermaid-font-zoom); }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}


</style>
</head>
<body class='typora-export os-windows'>
<div id='write'  class=''><h1><a name="analysis-of-sports-big-data-hw-2" class="md-header-anchor"></a><span>Analysis of Sports Big Data HW 2</span></h1><p><span>2021311175 Jae-Hyun Lee</span></p><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n0"><a class="md-toc-inner" href="#analysis-of-sports-big-data-hw-2">Analysis of Sports Big Data HW 2</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4"><a class="md-toc-inner" href="#chapter-3">Chapter 3</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n5"><a class="md-toc-inner" href="#1-problem--1-in-section-213-top-base-stealers-in-the-hall-of-fame">1. Problem # 1 in Section 2.13 (Top Base Stealers in the Hall of Fame)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n26"><a class="md-toc-inner" href="#2-problem--5-in-section-213-pitcher-strikeout--walk-ratios">2. Problem # 5 in Section 2.13 (Pitcher Strikeout / Walk Ratios)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n41"><a class="md-toc-inner" href="#3-section-37-of-the-textbook-reproduce-figure-315">3. Section 3.7 of the Textbook: Reproduce Figure 3.15</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n52"><a class="md-toc-inner" href="#4-section-38-of-the-textbook-reproduce-figure-316">4. Section 3.8 of the Textbook: Reproduce Figure 3.16</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n63"><a class="md-toc-inner" href="#5-problem--7-in-section-310-working-with-the-retrosheet-play-by-play-dataset">5. Problem # 7 in Section 3.10 (Working with the Retrosheet Play-by-Play Dataset)</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n94"><a class="md-toc-inner" href="#chapter-5">Chapter 5</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n95"><a class="md-toc-inner" href="#1-re24-for-batters-with-400-pas-or-more">1. <code>RE24</code> for Batters with 400 PAs or More</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n112"><a class="md-toc-inner" href="#2-run-values-for-doubles-and-triples">2. Run Values for Doubles and Triples</a></span></p></div><h2><a name="chapter-3" class="md-header-anchor"></a><span>Chapter 3</span></h2><h4><a name="1-problem--1-in-section-213-top-base-stealers-in-the-hall-of-fame" class="md-header-anchor"></a><span>1. Problem # 1 in Section 2.13 (Top Base Stealers in the Hall of Fame)</span></h4><blockquote><p><span>The following table gives the number of stolen bases (SB), the number of times caught stealing (CS), and the number of games played (G) for nine players currently inducted in the Hall of Fame.</span></p><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210412232844541.png" alt="image-20210412232844541"  /></p></blockquote><p><strong><span>(a) In </span><code>R</code><span>, place the stolen base, caught stealing, and game counts in the vectors </span><code>SB</code><span>, </span><code>CS</code><span>, and </span><code>G</code><span>.</span></strong><span> </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Player</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-string">"RH"</span>, <span class="cm-string">"LB"</span>, <span class="cm-string">"TC"</span>, <span class="cm-string">"EC"</span>, <span class="cm-string">"MC"</span>, <span class="cm-string">"JM"</span>, <span class="cm-string">"LA"</span>, <span class="cm-string">"PM"</span>, <span class="cm-string">"RA"</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">SB</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-number">1406</span>,<span class="cm-number">938</span>,<span class="cm-number">897</span>,<span class="cm-number">741</span>,<span class="cm-number">738</span>,<span class="cm-number">689</span>,<span class="cm-number">506</span>,<span class="cm-number">504</span>,<span class="cm-number">474</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">CS</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-number">335</span>,<span class="cm-number">307</span>,<span class="cm-number">212</span>,<span class="cm-number">195</span>,<span class="cm-number">109</span>,<span class="cm-number">162</span>,<span class="cm-number">136</span>,<span class="cm-number">131</span>,<span class="cm-number">114</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">G</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-number">3081</span>,<span class="cm-number">2616</span>,<span class="cm-number">3034</span>,<span class="cm-number">2826</span>,<span class="cm-number">2476</span>,<span class="cm-number">2649</span>,<span class="cm-number">2599</span>,<span class="cm-number">2683</span>,<span class="cm-number">2379</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="display: none; height: 92px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(b) For all players, compute the number of stolen base attempts </span><code>SB</code><span> + </span><code>CS</code><span> and store in the vector </span><code>SB.Attempt</code><span>.</span></strong><span> </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">SB.Attempt</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">SB</span> <span class="cm-operator">+</span> <span class="cm-variable">CS</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">SB.Attempt</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">1741</span> <span class="cm-number">1245</span> <span class="cm-number">1109</span> &nbsp;<span class="cm-number">936</span> &nbsp;<span class="cm-number">847</span> &nbsp;<span class="cm-number">851</span> &nbsp;<span class="cm-number">642</span> &nbsp;<span class="cm-number">635</span> &nbsp;<span class="cm-number">588</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(c) For all players, compute the success rate </span><code>Success.Rate</code><span> = </span><code>SB</code><span> / </span><code>SB.Attempt</code><span>.</span></strong><span> </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Success.Rate</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">SB</span> <span class="cm-operator">/</span> <span class="cm-variable">SB.Attempt</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Success.Rate</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">0.8075818</span> <span class="cm-number">0.7534137</span> <span class="cm-number">0.8088368</span> <span class="cm-number">0.7916667</span> <span class="cm-number">0.8713105</span> <span class="cm-number">0.8096357</span> <span class="cm-number">0.7881620</span> <span class="cm-number">0.7937008</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">9</span>] <span class="cm-number">0.8061224</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(d) Compute the number of stolen bases per game </span><code>SB.Game</code><span> = </span><code>SB</code><span> / </span><code>G</code><span>.</span></strong><span> </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">SB.Game</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">SB</span> <span class="cm-operator">/</span> <span class="cm-variable">G</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">SB.Game</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">0.4563453</span> <span class="cm-number">0.3585627</span> <span class="cm-number">0.2956493</span> <span class="cm-number">0.2622081</span> <span class="cm-number">0.2980614</span> <span class="cm-number">0.2600982</span> <span class="cm-number">0.1946903</span> <span class="cm-number">0.1878494</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">9</span>] <span class="cm-number">0.1992434</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(e) Construct a scatter plot of the stolen bases per game against the success rate. Are there particular players with unusually high or low stolen base success rates? Which player had the greatest number of stolen bases per game?</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">plot</span>(<span class="cm-variable">SB.Game</span>, <span class="cm-variable">Success.Rate</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Player</span>[<span class="cm-variable">rank</span>(<span class="cm-variable">Success.Rate</span>) <span class="cm-operator">==</span> <span class="cm-number">1</span>] <span class="cm-comment"># Worst success rate</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-string">"LB"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Player</span>[<span class="cm-variable">rank</span>(<span class="cm-variable">Success.Rate</span>) <span class="cm-operator">==</span> <span class="cm-number">9</span>] <span class="cm-comment"># Best success rate</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-string">"MC"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Player</span>[<span class="cm-variable">rank</span>(<span class="cm-variable">SB.Game</span>) <span class="cm-operator">==</span> <span class="cm-number">9</span>] <span class="cm-comment"># Best number of stolen bases per game</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-string">"RH"</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210412233408979.png" alt="image-20210412233408979"  /></p><p><span>There are one player with unusually low stolen base success rate, and one player with unusually high success rate. The names are </span><strong><span>Lou Brock</span></strong><span> and </span><strong><span>Max Carey</span></strong><span> respectively. The player with best number of stolen bases per game is </span><strong><span>Rickey Henderson</span></strong><span>.</span></p><p>&nbsp;</p><h4><a name="2-problem--5-in-section-213-pitcher-strikeout--walk-ratios" class="md-header-anchor"></a><span>2. Problem # 5 in Section 2.13 (Pitcher Strikeout / Walk Ratios)</span></h4><p><strong><span>(a) Read the </span><code>Lahman Pitching</code><span> data into </span><code>R</code><span>.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">library</span>(<span class="cm-variable">Lahman</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">head</span>(<span class="cm-variable">Pitching</span>, <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">playerID</span> <span class="cm-variable">yearID</span> <span class="cm-variable">stint</span> <span class="cm-variable">teamID</span> <span class="cm-variable">lgID</span> <span class="cm-variable">W</span> <span class="cm-variable">L</span> <span class="cm-variable">G</span> <span class="cm-variable">GS</span> <span class="cm-variable">CG</span> <span class="cm-variable">SHO</span> <span class="cm-variable">SV</span> <span class="cm-variable">IPouts</span> &nbsp;<span class="cm-variable">H</span> <span class="cm-variable">ER</span> <span class="cm-variable">HR</span> <span class="cm-variable">BB</span> <span class="cm-variable">SO</span> <span class="cm-variable">BAOpp</span> &nbsp;<span class="cm-variable">ERA</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-variable">bechtge01</span> &nbsp; <span class="cm-number">1871</span> &nbsp; &nbsp; <span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-variable">PH1</span> &nbsp; <span class="cm-atom">NA</span> <span class="cm-number">1</span> <span class="cm-number">2</span> <span class="cm-number">3</span> &nbsp;<span class="cm-number">3</span> &nbsp;<span class="cm-number">2</span> &nbsp; <span class="cm-number">0</span> &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">78</span> <span class="cm-number">43</span> <span class="cm-number">23</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">11</span> &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-atom">NA</span> <span class="cm-number">7.96</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">IBB</span> <span class="cm-variable">WP</span> <span class="cm-variable">HBP</span> <span class="cm-variable">BK</span> <span class="cm-variable">BFP</span> <span class="cm-variable">GF</span> &nbsp;<span class="cm-variable">R</span> <span class="cm-variable">SH</span> <span class="cm-variable">SF</span> <span class="cm-variable">GIDP</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> &nbsp;<span class="cm-atom">NA</span> &nbsp;<span class="cm-number">7</span> &nbsp;<span class="cm-atom">NA</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">146</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">42</span> <span class="cm-atom">NA</span> <span class="cm-atom">NA</span> &nbsp; <span class="cm-atom">NA</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(b) The following script computes the cumulative strikeouts, cumulative walks, mid career year, and the total innings pitched (measured in terms of outs) for all pitchers in the data file. This new data frame is named </span><code>career.pitching</code><span>. Run this code and use the </span><code>inner_join()</code><span> function to merge the </span><code>Pitching</code><span> and </span><code>career.pitching</code><span> data frames.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">career.pitching</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">Pitching</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; <span class="cm-variable">group_by</span>(<span class="cm-variable">playerID</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; <span class="cm-variable">summarize</span>(<span class="cm-variable">SO</span> <span class="cm-operator">=</span> <span class="cm-variable">sum</span>(<span class="cm-variable">SO</span>, <span class="cm-variable">na.rm</span> <span class="cm-operator">=</span> <span class="cm-variable">TRUE</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">BB</span> <span class="cm-operator">=</span> <span class="cm-variable">sum</span>(<span class="cm-variable">BB</span>, <span class="cm-variable">na.rm</span> <span class="cm-operator">=</span> <span class="cm-variable">TRUE</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">IPouts</span> <span class="cm-operator">=</span> <span class="cm-variable">sum</span>(<span class="cm-variable">IPouts</span>, <span class="cm-variable">na.rm</span> <span class="cm-operator">=</span> <span class="cm-variable">TRUE</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">midYear</span> <span class="cm-operator">=</span> <span class="cm-variable">median</span>(<span class="cm-variable">yearID</span>, <span class="cm-variable">na.rm</span> <span class="cm-operator">=</span> <span class="cm-variable">TRUE</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">head</span>(<span class="cm-variable">career.pitching</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># A tibble: 6 x 5</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">playerID</span> &nbsp; &nbsp; <span class="cm-variable">SO</span> &nbsp; &nbsp;<span class="cm-variable">BB</span> <span class="cm-variable">IPouts</span> <span class="cm-variable">midYear</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-operator">&lt;</span><span class="cm-variable">chr</span><span class="cm-operator">&gt;</span> &nbsp; &nbsp; <span class="cm-operator">&lt;</span><span class="cm-variable">int</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&lt;</span><span class="cm-variable">int</span><span class="cm-operator">&gt;</span> &nbsp;<span class="cm-operator">&lt;</span><span class="cm-variable">int</span><span class="cm-operator">&gt;</span> &nbsp; <span class="cm-operator">&lt;</span><span class="cm-variable">dbl</span><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-variable">aardsda01</span> &nbsp; <span class="cm-number">340</span> &nbsp; <span class="cm-number">183</span> &nbsp; <span class="cm-number">1011</span> &nbsp; <span class="cm-number">2009</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">2</span> <span class="cm-variable">aasedo01</span> &nbsp; &nbsp;<span class="cm-number">641</span> &nbsp; <span class="cm-number">457</span> &nbsp; <span class="cm-number">3328</span> &nbsp; <span class="cm-number">1984</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3</span> <span class="cm-variable">abadfe01</span> &nbsp; &nbsp;<span class="cm-number">280</span> &nbsp; <span class="cm-number">116</span> &nbsp; &nbsp;<span class="cm-number">992</span> &nbsp; <span class="cm-number">2014</span><span class="cm-variable">.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">4</span> <span class="cm-variable">abbeybe01</span> &nbsp; <span class="cm-number">161</span> &nbsp; <span class="cm-number">192</span> &nbsp; <span class="cm-number">1704</span> &nbsp; <span class="cm-number">1894</span><span class="cm-variable">.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">5</span> <span class="cm-variable">abbeych01</span> &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; <span class="cm-number">0</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span> &nbsp; <span class="cm-number">1896</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">6</span> <span class="cm-variable">abbotda01</span> &nbsp; &nbsp; <span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-number">8</span> &nbsp; &nbsp; <span class="cm-number">39</span> &nbsp; <span class="cm-number">1890</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Pitching</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">inner_join</span>(<span class="cm-variable">Pitching</span>, <span class="cm-variable">career.pitching</span>, <span class="cm-variable">by</span> <span class="cm-operator">=</span> <span class="cm-string">"playerID"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">head</span>(<span class="cm-variable">Pitching</span>, <span class="cm-number">1</span>) <span class="cm-comment">#old: .x , new: .y</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">playerID</span> <span class="cm-variable">yearID</span> <span class="cm-variable">stint</span> <span class="cm-variable">teamID</span> <span class="cm-variable">lgID</span> <span class="cm-variable">W</span> <span class="cm-variable">L</span> <span class="cm-variable">G</span> <span class="cm-variable">GS</span> <span class="cm-variable">CG</span> <span class="cm-variable">SHO</span> <span class="cm-variable">SV</span> <span class="cm-variable">IPouts.x</span> &nbsp;<span class="cm-variable">H</span> <span class="cm-variable">ER</span> <span class="cm-variable">HR</span> <span class="cm-variable">BB.x</span> <span class="cm-variable">SO.x</span> <span class="cm-variable">BAOpp</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-variable">bechtge01</span> &nbsp; <span class="cm-number">1871</span> &nbsp; &nbsp; <span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-variable">PH1</span> &nbsp; <span class="cm-atom">NA</span> <span class="cm-number">1</span> <span class="cm-number">2</span> <span class="cm-number">3</span> &nbsp;<span class="cm-number">3</span> &nbsp;<span class="cm-number">2</span> &nbsp; <span class="cm-number">0</span> &nbsp;<span class="cm-number">0</span> &nbsp; &nbsp; &nbsp; <span class="cm-number">78</span> <span class="cm-number">43</span> <span class="cm-number">23</span> &nbsp;<span class="cm-number">0</span> &nbsp; <span class="cm-number">11</span> &nbsp; &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp;<span class="cm-atom">NA</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">ERA</span> <span class="cm-variable">IBB</span> <span class="cm-variable">WP</span> <span class="cm-variable">HBP</span> <span class="cm-variable">BK</span> <span class="cm-variable">BFP</span> <span class="cm-variable">GF</span> &nbsp;<span class="cm-variable">R</span> <span class="cm-variable">SH</span> <span class="cm-variable">SF</span> <span class="cm-variable">GIDP</span> <span class="cm-variable">SO.y</span> <span class="cm-variable">BB.y</span> <span class="cm-variable">IPouts.y</span> <span class="cm-variable">midYear</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">1</span> <span class="cm-number">7.96</span> &nbsp;<span class="cm-atom">NA</span> &nbsp;<span class="cm-number">7</span> &nbsp;<span class="cm-atom">NA</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">146</span> &nbsp;<span class="cm-number">0</span> <span class="cm-number">42</span> <span class="cm-atom">NA</span> <span class="cm-atom">NA</span> &nbsp; <span class="cm-atom">NA</span> &nbsp; <span class="cm-number">10</span> &nbsp; <span class="cm-number">22</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">729</span> &nbsp; &nbsp;<span class="cm-number">1874</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 575px;"></div><div class="CodeMirror-gutters" style="display: none; height: 575px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(c) Use the </span><code>filter()</code><span> function to construct a new data frame </span><code>career.10000</code><span> consisting of data for only those pitchers with at least 10, 000 career </span><code>IPouts</code></strong><span>.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Pitching</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">IPouts.y</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">10000</span>) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">career.10000</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(d) For the pitchers with at least 10, 000 career </span><code>IPouts</code><span>, construct a scatter plot of mid career year and ratio of strikeouts to walks. Comment on the general pattern in this scatter plot.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">career.10000</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">midYear</span>, <span class="cm-variable">SO.y</span><span class="cm-operator">/</span><span class="cm-variable">BB.y</span>)) <span class="cm-operator">+</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; <span class="cm-variable">geom_point</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; <span class="cm-variable">geom_smooth</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; <span class="cm-variable">geom_text</span>(<span class="cm-variable">data</span> <span class="cm-operator">=</span> <span class="cm-variable">filter</span>(<span class="cm-variable">career.10000</span>, <span class="cm-variable">SO.y</span><span class="cm-operator">/</span><span class="cm-variable">BB.y</span> <span class="cm-operator">&gt;</span> <span class="cm-number">5</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">+</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">aes</span>(<span class="cm-variable">midYear</span>, <span class="cm-variable">SO.y</span><span class="cm-operator">/</span><span class="cm-variable">BB.y</span>, <span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-variable">playerID</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413011259295.png" alt="image-20210413011259295"  /></p><p><span>After the drastic decrease of the strikeouts-to-walks ratio in the late 19th century, there seems to be a slightly increasing trend until today. In the late 19th century there was a player whose strikeouts-to-walks ratio is over five; </span><strong><span>Tommy Bonds</span></strong><span>. Except for him, no player even reached over four in the ratio, which makes Bonds more legendary.</span></p><p>&nbsp;</p><h4><a name="3-section-37-of-the-textbook-reproduce-figure-315" class="md-header-anchor"></a><span>3. Section 3.7 of the Textbook: Reproduce Figure 3.15</span></h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">library</span>(<span class="cm-variable">Lahman</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">get_birthyear</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-keyword">function</span>(<span class="cm-variable">Name</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">Names</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">unlist</span>(<span class="cm-variable">strsplit</span>(<span class="cm-variable">Name</span>, <span class="cm-string">"</span> <span class="cm-string">"</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-variable">Names</span>[<span class="cm-number">1</span>],</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-variable">Names</span>[<span class="cm-number">2</span>]) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">birthyear</span> <span class="cm-operator">=</span> <span class="cm-variable">ifelse</span>(<span class="cm-variable">birthMonth</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">7</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">birthYear</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>, <span class="cm-variable">birthYear</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Player</span> <span class="cm-operator">=</span> <span class="cm-variable">paste</span>(<span class="cm-variable">nameFirst</span>, <span class="cm-variable">nameLast</span>)) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">select</span>(<span class="cm-variable">playerID</span>, <span class="cm-variable">Player</span>, <span class="cm-variable">birthyear</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">PlayerInfo</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">bind_rows</span>(<span class="cm-variable">get_birthyear</span>(<span class="cm-string">"Babe Ruth"</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">get_birthyear</span>(<span class="cm-string">"Hank Aaron"</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">get_birthyear</span>(<span class="cm-string">"Barry Bonds"</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">get_birthyear</span>(<span class="cm-string">"Alex Rodriguez"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">Batting</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">inner_join</span>(<span class="cm-variable">PlayerInfo</span>, <span class="cm-variable">by</span> <span class="cm-operator">=</span> <span class="cm-string">"playerID"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">Age</span> <span class="cm-operator">=</span> <span class="cm-variable">yearID</span> <span class="cm-operator">-</span> <span class="cm-variable">birthyear</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">select</span>(<span class="cm-variable">Player</span>, <span class="cm-variable">Age</span>, <span class="cm-variable">HR</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">group_by</span>(<span class="cm-variable">Player</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">CHR</span> <span class="cm-operator">=</span> <span class="cm-variable">cumsum</span>(<span class="cm-variable">HR</span>)) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">HRdata</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">HRdata</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">Age</span>, <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">CHR</span>, <span class="cm-variable">linetype</span> <span class="cm-operator">=</span> <span class="cm-variable">Player</span>)) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_line</span>()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 552px;"></div><div class="CodeMirror-gutters" style="display: none; height: 552px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413035953567.png" alt="image-20210413035953567"  /></p><ul><li><strong><span>Horizontal lines at 600 and 700</span></strong></li><li><strong><span>Change the label for the vertical axis as “Career home runs”.</span></strong></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">fields</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">read_csv</span>(<span class="cm-variable">file.choose</span>()) <span class="cm-comment"># Click the fields.csv wherever it is in</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">data1998</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">read_csv</span>(<span class="cm-variable">file.choose</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">col_names</span> <span class="cm-operator">=</span> <span class="cm-variable">pull</span>(<span class="cm-variable">fields</span>, <span class="cm-variable">Header</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa_id</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-string">"Sammy"</span>, <span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-string">"Sosa"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">retroID</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac_id</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-string">"Mark"</span>, <span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-string">"McGwire"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">retroID</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">hr_race</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">data1998</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">BAT_ID</span> <span class="cm-operator cm-variable-2">%in%</span> <span class="cm-variable">c</span>(<span class="cm-variable">sosa_id</span>, <span class="cm-variable">mac_id</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">library</span>(<span class="cm-variable">lubridate</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">cum_hr</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-keyword">function</span>(<span class="cm-variable">d</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">d</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">Date</span> <span class="cm-operator">=</span> <span class="cm-variable">ymd</span>(<span class="cm-variable">str_sub</span>(<span class="cm-variable">GAME_ID</span>, <span class="cm-number">4</span>, <span class="cm-number">11</span>))) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">arrange</span>(<span class="cm-variable">Date</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">HR</span> <span class="cm-operator">=</span> <span class="cm-variable">ifelse</span>(<span class="cm-variable">EVENT_CD</span> <span class="cm-operator">==</span> <span class="cm-number">23</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cumHR</span> <span class="cm-operator">=</span> <span class="cm-variable">cumsum</span>(<span class="cm-variable">HR</span>)) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">select</span>(<span class="cm-variable">Date</span>, <span class="cm-variable">cumHR</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">hr_ytd</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">hr_race</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">split</span>(<span class="cm-variable">pull</span>(<span class="cm-variable">.</span>, <span class="cm-variable">BAT_ID</span>)) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">map_df</span>(<span class="cm-variable">cum_hr</span>, <span class="cm-variable">.id</span> <span class="cm-operator">=</span> <span class="cm-string">"BAT_ID"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">inner_join</span>(<span class="cm-variable">People</span>, <span class="cm-variable">by</span> <span class="cm-operator">=</span> <span class="cm-variable">c</span>(<span class="cm-string">"BAT_ID"</span> <span class="cm-operator">=</span> <span class="cm-string">"retroID"</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">hr_ytd</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">Date</span>, <span class="cm-variable">cumHR</span>, <span class="cm-variable">linetype</span> <span class="cm-operator">=</span> <span class="cm-variable">nameLast</span>)) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_line</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_hline</span>(<span class="cm-variable">yintercept</span> <span class="cm-operator">=</span> <span class="cm-number">62</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">annotate</span>(<span class="cm-string">"text"</span>, <span class="cm-variable">ymd</span>(<span class="cm-string">"1998-04-15"</span>), <span class="cm-number">65</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-string">"62"</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">ylab</span>(<span class="cm-string">"Home Runs in the Season"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 713px;"></div><div class="CodeMirror-gutters" style="display: none; height: 713px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413040006262.png" alt="image-20210413040006262"  /></p><p>&nbsp;</p><h4><a name="4-section-38-of-the-textbook-reproduce-figure-316" class="md-header-anchor"></a><span>4. Section 3.8 of the Textbook: Reproduce Figure 3.16</span></h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">fields</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">read_csv</span>(<span class="cm-variable">file.choose</span>()) <span class="cm-comment"># Click the fields.csv whereever it is in</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">data1998</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">read_csv</span>(<span class="cm-variable">file.choose</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">col_names</span> <span class="cm-operator">=</span> <span class="cm-variable">pull</span>(<span class="cm-variable">fields</span>, <span class="cm-variable">Header</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa_id</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-string">"Sammy"</span>, <span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-string">"Sosa"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">retroID</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac_id</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-string">"Mark"</span>, <span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-string">"McGwire"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">retroID</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">hr_race</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">data1998</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">BAT_ID</span> <span class="cm-operator cm-variable-2">%in%</span> <span class="cm-variable">c</span>(<span class="cm-variable">sosa_id</span>, <span class="cm-variable">mac_id</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">library</span>(<span class="cm-variable">lubridate</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">cum_hr</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-keyword">function</span>(<span class="cm-variable">d</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">d</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">Date</span> <span class="cm-operator">=</span> <span class="cm-variable">ymd</span>(<span class="cm-variable">str_sub</span>(<span class="cm-variable">GAME_ID</span>, <span class="cm-number">4</span>, <span class="cm-number">11</span>))) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">arrange</span>(<span class="cm-variable">Date</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">mutate</span>(<span class="cm-variable">HR</span> <span class="cm-operator">=</span> <span class="cm-variable">ifelse</span>(<span class="cm-variable">EVENT_CD</span> <span class="cm-operator">==</span> <span class="cm-number">23</span>, <span class="cm-number">1</span>, <span class="cm-number">0</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cumHR</span> <span class="cm-operator">=</span> <span class="cm-variable">cumsum</span>(<span class="cm-variable">HR</span>)) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">select</span>(<span class="cm-variable">Date</span>, <span class="cm-variable">cumHR</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">hr_ytd</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">hr_race</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">split</span>(<span class="cm-variable">pull</span>(<span class="cm-variable">.</span>, <span class="cm-variable">BAT_ID</span>)) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">map_df</span>(<span class="cm-variable">cum_hr</span>, <span class="cm-variable">.id</span> <span class="cm-operator">=</span> <span class="cm-string">"BAT_ID"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">inner_join</span>(<span class="cm-variable">People</span>, <span class="cm-variable">by</span> <span class="cm-operator">=</span> <span class="cm-variable">c</span>(<span class="cm-string">"BAT_ID"</span> <span class="cm-operator">=</span> <span class="cm-string">"retroID"</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">hr_ytd</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">Date</span>, <span class="cm-variable">cumHR</span>, <span class="cm-variable">linetype</span> <span class="cm-operator">=</span> <span class="cm-variable">nameLast</span>)) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_line</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_hline</span>(<span class="cm-variable">yintercept</span> <span class="cm-operator">=</span> <span class="cm-number">62</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">annotate</span>(<span class="cm-string">"text"</span>, <span class="cm-variable">ymd</span>(<span class="cm-string">"1998-04-15"</span>), <span class="cm-number">65</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-string">"62"</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">ylab</span>(<span class="cm-string">"Home Runs in the Season"</span>)<span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 713px;"></div><div class="CodeMirror-gutters" style="display: none; height: 713px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413040319926.png" alt="image-20210413040319926"  /></p><ul><li><strong><span>Identify when they were tied at 66 and add a vertical line on that day with a label saying “66”</span></strong></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">hr_ytd</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">cumHR</span> <span class="cm-operator">==</span> <span class="cm-number">66</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">select</span>(<span class="cm-variable">BAT_ID</span>, <span class="cm-variable">cumHR</span>, <span class="cm-variable">Date</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># A tibble: 20 x 3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">BAT_ID</span> &nbsp; <span class="cm-variable">cumHR</span> <span class="cm-variable">Date</span> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-operator">&lt;</span><span class="cm-variable">chr</span><span class="cm-operator">&gt;</span> &nbsp; &nbsp;<span class="cm-operator">&lt;</span><span class="cm-variable">dbl</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&lt;</span><span class="cm-variable">date</span><span class="cm-operator">&gt;</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">1</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">2</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">3</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">4</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">5</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">6</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">7</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">8</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">9</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">11</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">27</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">27</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">27</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">15</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">27</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">16</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">27</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">28</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">18</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">28</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">19</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">28</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">20</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">28</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">hr_ytd</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">Date</span> <span class="cm-operator">==</span> <span class="cm-string">"1998-09-25"</span> <span class="cm-operator">|</span> <span class="cm-variable">Date</span> <span class="cm-operator">==</span> <span class="cm-string">"1998-09-26"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">select</span>(<span class="cm-variable">BAT_ID</span>, <span class="cm-variable">cumHR</span>, <span class="cm-variable">Date</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">arrange</span>(<span class="cm-variable">Date</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># A tibble: 18 x 3</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">BAT_ID</span> &nbsp; <span class="cm-variable">cumHR</span> <span class="cm-variable">Date</span> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-operator">&lt;</span><span class="cm-variable">chr</span><span class="cm-operator">&gt;</span> &nbsp; &nbsp;<span class="cm-operator">&lt;</span><span class="cm-variable">dbl</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&lt;</span><span class="cm-variable">date</span><span class="cm-operator">&gt;</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">1</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">65</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">2</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">65</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">3</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">4</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">5</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">6</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">65</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">7</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">8</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-number">9</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">10</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">11</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">67</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">12</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">67</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">13</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">68</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">14</span> <span class="cm-variable">mcgwm001</span> &nbsp; &nbsp;<span class="cm-number">68</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">15</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">16</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">17</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">18</span> <span class="cm-variable">sosas001</span> &nbsp; &nbsp;<span class="cm-number">66</span> <span class="cm-number">1998</span><span class="cm-operator">-</span><span class="cm-number">09</span><span class="cm-operator">-</span><span class="cm-number">26</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1196px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1196px;"></div></div></div></pre><p><span>Rather than working on the magical function that just automatically finds the date of the home run and draws a vertical line, I followed a primitive approach. First, I looked up the dates when both players hit 66 home runs, and noticed from McGwire&#39;s data that the date is around 09-25 ~ 09-26. Then I investigated what happened on those two days and concluded that on </span><strong><span>09-25</span></strong><span>, after the game, </span><strong><span>both were tied at 66</span></strong><span> home runs. The day after, which was 09-26, McGwire was able to lead the race, adding another two home runs to his career. I added the exact date in </span><code>geom_vline</code><span>, with a label containing more information than suggested.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ggplot</span>(<span class="cm-variable">hr_ytd</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">Date</span>, <span class="cm-variable">cumHR</span>, <span class="cm-variable">linetype</span> <span class="cm-operator">=</span> <span class="cm-variable">nameLast</span>)) <span class="cm-operator">+</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">geom_line</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">geom_vline</span>(<span class="cm-variable">xintercept</span> <span class="cm-operator">=</span> <span class="cm-variable">ymd</span>(<span class="cm-string">"1998-09-25"</span>), <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">annotate</span>(<span class="cm-string">"text"</span>, <span class="cm-variable">ymd</span>(<span class="cm-string">"1998-09-01"</span>), <span class="cm-number">3</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-string">"Both hit 66 on 09-25"</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">ylab</span>(<span class="cm-string">"Home Runs in the Season"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413040302190.png" alt="image-20210413040302190"  /></p><p>&nbsp;</p><h4><a name="5-problem--7-in-section-310-working-with-the-retrosheet-play-by-play-dataset" class="md-header-anchor"></a><span>5. Problem # 7 in Section 3.10 (Working with the Retrosheet Play-by-Play Dataset)</span></h4><blockquote><p><span>In Section 3.8, we used the Retrosheet play-by-play data to explore the home run race between Mark McGwire and Sammy Sosa in the 1998 season. Another way to compare the patterns of home run hitting of the two players is to compute the spacings, the number of plate appearances between home runs.</span></p></blockquote><p><strong><span>(a) Following the work in Section 3.8, create the two data frames </span><code>mac.data</code><span> and </span><code>sosa.data</code><span> containing the batting data for the two players.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa_id</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-string">"Sammy"</span>, <span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-string">"Sosa"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">retroID</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac_id</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">People</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">nameFirst</span> <span class="cm-operator">==</span> <span class="cm-string">"Mark"</span>, <span class="cm-variable">nameLast</span> <span class="cm-operator">==</span> <span class="cm-string">"McGwire"</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">retroID</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">data1998</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">BAT_ID</span> <span class="cm-operator">==</span> <span class="cm-variable">sosa_id</span>) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">sosa.data</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">data1998</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">BAT_ID</span> <span class="cm-operator">==</span> <span class="cm-variable">mac_id</span>) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">mac.data</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(b) Use the following R commands to restrict the two data frames to the plays where a batting event occurred.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac.data</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">filter</span>(<span class="cm-variable">mac.data</span>, <span class="cm-variable">BAT_EVENT_FL</span> <span class="cm-operator">==</span> <span class="cm-variable">TRUE</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa.data</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">filter</span>(<span class="cm-variable">sosa.data</span>, <span class="cm-variable">BAT_EVENT_FL</span> <span class="cm-operator">==</span> <span class="cm-variable">TRUE</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(c) For each data frame, create a new variable </span><code>PA</code><span> that numbers the plate appearance 1, 2, . . .</span></strong><span> </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac.data</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">mutate</span>(<span class="cm-variable">mac.data</span>, <span class="cm-variable">PA</span> <span class="cm-operator">=</span> <span class="cm-number">1</span><span class="cm-operator">:</span><span class="cm-variable">nrow</span>(<span class="cm-variable">mac.data</span>))</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa.data</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">mutate</span>(<span class="cm-variable">sosa.data</span>, <span class="cm-variable">PA</span> <span class="cm-operator">=</span> <span class="cm-number">1</span><span class="cm-operator">:</span><span class="cm-variable">nrow</span>(<span class="cm-variable">sosa.data</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(d) The following commands will return the numbers of the plate appearances when the players hit home runs.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac.HR.PA</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">mac.data</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">EVENT_CD</span> <span class="cm-operator">==</span> <span class="cm-number">23</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">PA</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa.HR.PA</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">sosa.data</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">EVENT_CD</span> <span class="cm-operator">==</span> <span class="cm-number">23</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">pull</span>(<span class="cm-variable">PA</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(e) Using the </span><code>R</code><span> function </span><code>diff()</code><span>, the following commands compute the spacings between the occurrences of home runs. Create a new data frame </span><code>HR_Spacing</code><span> with two variables, </span><code>Player</code><span>, the player name, and </span><code>Spacing</code><span>, the value of the spacing.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mac.spacings</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">diff</span>(<span class="cm-variable">c</span>(<span class="cm-number">0</span>, <span class="cm-variable">mac.HR.PA</span>))</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">sosa.spacings</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">diff</span>(<span class="cm-variable">c</span>(<span class="cm-number">0</span>, <span class="cm-variable">sosa.HR.PA</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">HR_Spacing</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">rbind</span>(<span class="cm-variable">cbind</span>(<span class="cm-string">"Mark McGwire"</span>, <span class="cm-variable">mac.spacings</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">cbind</span>(<span class="cm-string">"Sammy Sosa"</span>, <span class="cm-variable">sosa.spacings</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">colnames</span>(<span class="cm-variable">HR_Spacing</span>) <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-string">"Player"</span>, <span class="cm-string">"Spacing"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">HR_Spacing</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">data.frame</span>(<span class="cm-variable">HR_Spacing</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">HR_Spacing</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">transform</span>(<span class="cm-variable">HR_Spacing</span>, <span class="cm-variable">Spacing</span><span class="cm-operator">=</span><span class="cm-variable">as.numeric</span>(<span class="cm-variable">Spacing</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>(f) By use of the </span><code>summarize()</code><span> and </span><code>geom_histogram()</code><span> functions on the data frame HR Spacing, compare the home run spacings of the two players.</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">HR_Spacing</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">x</span><span class="cm-operator">=</span><span class="cm-variable">Spacing</span>, <span class="cm-variable">group</span><span class="cm-operator">=</span><span class="cm-variable">Player</span>, <span class="cm-variable">fill</span><span class="cm-operator">=</span><span class="cm-variable">Player</span>)) <span class="cm-operator">+</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_histogram</span>(<span class="cm-variable">binwidth</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>, <span class="cm-variable">position</span> <span class="cm-operator">=</span> <span class="cm-string">"dodge"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413065933539.png" alt="image-20210413065933539"  /></p><ul><li><span>Overall </span><strong><span>Mark McGwire seems to hit his next home run earlier</span></strong><span> than Sammy Sosa. McGwire&#39;s distribution seems more left-shifted.</span></li><li><span>&quot;Spacing = 1&quot; means that as a player hits a home run, he hits another at his next PA.</span></li><li><span>There were </span><strong><span>two big slumps for Sosa</span></strong><span>, being not able to hit a home run for more than 45 PA.</span></li><li><span>McGwire had a few slumps too, but the difference was that they weren&#39;t as long as Sosa&#39;s</span></li></ul><p>&nbsp;</p><h2><a name="chapter-5" class="md-header-anchor"></a><span>Chapter 5</span></h2><h4><a name="1-re24-for-batters-with-400-pas-or-more" class="md-header-anchor"></a><span>1. </span><code>RE24</code><span> for Batters with 400 PAs or More</span></h4><p><strong><span>(a) Identify the batters whose </span><code>RE24</code><span> values are smaller than -20. Who are they?</span></strong></p><p><span>The codes are too long, thus only the relevant lines are introduced. Please check </span><code>Sports_HW2_LeeJH.R</code><span> for full codes including the lines from the lecture note.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">runs400</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">Runs.Start</span>, <span class="cm-variable">RE24</span>)) <span class="cm-operator">+</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_point</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_smooth</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_hline</span>(<span class="cm-variable">yintercept</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_text_repel</span>(<span class="cm-variable">data</span> <span class="cm-operator">=</span> <span class="cm-variable">filter</span>(<span class="cm-variable">runs400</span>, <span class="cm-variable">RE24</span> <span class="cm-operator">&lt;</span> <span class="cm-operator">-</span><span class="cm-number">20</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">aes</span>(<span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-variable">nameLast</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413224941231.png" alt="image-20210413224941231"  /></p><p>&nbsp;</p><p><strong><span>(b) Change this condition to 502 PAs or more and reconstruct Figure 5.2. Are there any changes in the overall pattern?</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">runs</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">filter</span>(<span class="cm-variable">PA</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">502</span>) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">runs502</span> <span class="cm-comment"># restricting players</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">runs502</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">inner_join</span>(<span class="cm-variable">People</span>, <span class="cm-variable">by</span> <span class="cm-operator">=</span> <span class="cm-variable">c</span>(<span class="cm-string">"BAT_ID"</span> <span class="cm-operator">=</span> <span class="cm-string">"retroID"</span>)) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">runs502</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">runs502</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">Runs.Start</span>, <span class="cm-variable">RE24</span>)) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_point</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_smooth</span>() <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_hline</span>(<span class="cm-variable">yintercept</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_text_repel</span>(<span class="cm-variable">data</span> <span class="cm-operator">=</span> <span class="cm-variable">filter</span>(<span class="cm-variable">runs502</span>, <span class="cm-variable">RE24</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">40</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">aes</span>(<span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-variable">nameLast</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210413225517610.png" alt="image-20210413225517610"  /></p><ul><li><span>The overall increasing trend seems to be robust. </span><strong><span>The more the opportunity, the higher the </span><code>RE24</code><span> value</span></strong><span>.</span></li><li><span>The x-axis </span><code>Runs.Start</code><span> can be interpreted as number of chances for batters. Since the lower bound of PA has increased, the </span><strong><span>lower bound of the number of chances also increased</span></strong><span>. Thus the decreasing trend around &quot;</span><code>Runs.Start</code><span> ≈ 200&quot; is trimmed away. </span></li><li><span>Players such that &quot;</span><code>RE24</code><span> &gt; 40&quot;: Murphy, Votto, Bryant, Freeman, Ortiz, Trout, Donaldson, Arenado and Rizzo (from lecture note Figure 5.2) all appeared on more than 502 plates.</span></li></ul><p>&nbsp;</p><h4><a name="2-run-values-for-doubles-and-triples" class="md-header-anchor"></a><span>2. Run Values for Doubles and Triples</span></h4><p><strong><span>Doubles</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">data2016</span> <span class="cm-operator cm-variable-2">%&gt;%</span> <span class="cm-variable">filter</span>(<span class="cm-variable">EVENT_CD</span> <span class="cm-operator">==</span> <span class="cm-number">21</span>) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">doubles</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">double_STATE</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">cbind</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">matrix</span>(<span class="cm-variable">table</span>(<span class="cm-variable">doubles</span><span class="cm-operator cm-dollar">$</span><span class="cm-variable">STATE</span>),<span class="cm-number">8</span>,<span class="cm-number">3</span>,<span class="cm-variable">byrow</span><span class="cm-operator">=</span><span class="cm-variable">T</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">matrix</span>(<span class="cm-variable">round</span>(<span class="cm-variable">prop.table</span>(<span class="cm-variable">table</span>(<span class="cm-variable">doubles</span><span class="cm-operator cm-dollar">$</span><span class="cm-variable">STATE</span>)),<span class="cm-number">2</span>),<span class="cm-number">8</span>,<span class="cm-number">3</span>,<span class="cm-variable">byrow</span><span class="cm-operator">=</span><span class="cm-variable">T</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">dimnames</span>(<span class="cm-variable">double_STATE</span>)[[<span class="cm-number">2</span>]] <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-string">"0 outs"</span>, <span class="cm-string">"1 out"</span>, <span class="cm-string">"2 outs"</span>, </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"0 outs"</span>, <span class="cm-string">"1 out"</span>, <span class="cm-string">"2 outs"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">dimnames</span>(<span class="cm-variable">double_STATE</span>)[[<span class="cm-number">1</span>]] <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-string">"000"</span>, <span class="cm-string">"001"</span>, <span class="cm-string">"010"</span>, <span class="cm-string">"011"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"100"</span>, <span class="cm-string">"101"</span>, <span class="cm-string">"110"</span>, <span class="cm-string">"111"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">double_STATE</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span> <span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">000</span> &nbsp; <span class="cm-number">2194</span> &nbsp;<span class="cm-number">1443</span> &nbsp; <span class="cm-number">1132</span> &nbsp; <span class="cm-number">0.27</span> &nbsp;<span class="cm-number">0.17</span> &nbsp; <span class="cm-number">0.14</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">001</span> &nbsp; &nbsp; <span class="cm-number">25</span> &nbsp; &nbsp;<span class="cm-number">79</span> &nbsp; &nbsp;<span class="cm-number">111</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.01</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">010</span> &nbsp; &nbsp;<span class="cm-number">158</span> &nbsp; <span class="cm-number">196</span> &nbsp; &nbsp;<span class="cm-number">266</span> &nbsp; <span class="cm-number">0.02</span> &nbsp;<span class="cm-number">0.02</span> &nbsp; <span class="cm-number">0.03</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">011</span> &nbsp; &nbsp; <span class="cm-number">19</span> &nbsp; &nbsp;<span class="cm-number">50</span> &nbsp; &nbsp; <span class="cm-number">59</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.01</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">100</span> &nbsp; &nbsp;<span class="cm-number">501</span> &nbsp; <span class="cm-number">553</span> &nbsp; &nbsp;<span class="cm-number">545</span> &nbsp; <span class="cm-number">0.06</span> &nbsp;<span class="cm-number">0.07</span> &nbsp; <span class="cm-number">0.07</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">101</span> &nbsp; &nbsp; <span class="cm-number">37</span> &nbsp; &nbsp;<span class="cm-number">88</span> &nbsp; &nbsp; <span class="cm-number">99</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.01</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">110</span> &nbsp; &nbsp;<span class="cm-number">101</span> &nbsp; <span class="cm-number">191</span> &nbsp; &nbsp;<span class="cm-number">220</span> &nbsp; <span class="cm-number">0.01</span> &nbsp;<span class="cm-number">0.02</span> &nbsp; <span class="cm-number">0.03</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">111</span> &nbsp; &nbsp; <span class="cm-number">29</span> &nbsp; &nbsp;<span class="cm-number">70</span> &nbsp; &nbsp; <span class="cm-number">88</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.01</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 437px;"></div><div class="CodeMirror-gutters" style="display: none; height: 437px;"></div></div></div></pre><p><code>double_STATE</code><span> counts states for each double. The numbers are on the left, and the proportions are on the right. More than half of the doubles were hit when no runners were on base.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">mean_doubles</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">doubles</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">summarize</span>(<span class="cm-variable">mean_run_value</span> <span class="cm-operator">=</span> <span class="cm-variable">mean</span>(<span class="cm-variable">run_value</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">med_doubles</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">doubles</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">summarize</span>(<span class="cm-variable">median_run_value</span> <span class="cm-operator">=</span> <span class="cm-variable">median</span>(<span class="cm-variable">run_value</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">c</span>(<span class="cm-variable">mean_doubles</span>, <span class="cm-variable">med_doubles</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator cm-dollar">$</span><span class="cm-variable">mean_run_value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">0.739</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator cm-dollar">$</span><span class="cm-variable">median_run_value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">0.635</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><p><span>The run value of a double varies on situations. Difference in state is one factor of the variation and unexpected errors by fielders could be a another. Thus, the run value is estimated in point, in this case, using the classic mean and median.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">ggplot</span>(<span class="cm-variable">doubles</span>, <span class="cm-variable">aes</span>(<span class="cm-variable">run_value</span>)) <span class="cm-operator">+</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_histogram</span>(<span class="cm-variable">bins</span> <span class="cm-operator">=</span> <span class="cm-number">40</span>) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">geom_vline</span>(<span class="cm-variable">data</span> <span class="cm-operator">=</span> <span class="cm-variable">mean_doubles</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">aes</span>(<span class="cm-variable">xintercept</span> <span class="cm-operator">=</span> <span class="cm-variable">mean_run_value</span>)) <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">annotate</span>(<span class="cm-string">"text"</span>, <span class="cm-number">1</span>, <span class="cm-number">2000</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">label</span> <span class="cm-operator">=</span> <span class="cm-string">"Mean Run</span><span class="cm-string-2">\n</span><span class="cm-string">Value"</span>, <span class="cm-variable">color</span> <span class="cm-operator">=</span> <span class="cm-variable">crcblue</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210414015406187.png" alt="image-20210414015406187"  /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">doubles</span> <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">group_by</span>(<span class="cm-variable">STATE</span>) <span class="cm-operator cm-variable-2">%&gt;%</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-variable">summarize</span>(<span class="cm-variable">mean_run_value</span> <span class="cm-operator">=</span> <span class="cm-variable">mean</span>(<span class="cm-variable">run_value</span>)) <span class="cm-operator cm-arrow">-&gt;</span> <span class="cm-variable">double_RV_STATE</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">double_RV_STATE</span> <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">matrix</span>(<span class="cm-variable">double_RV_STATE</span><span class="cm-operator cm-dollar">$</span><span class="cm-variable">mean_run_value</span>, <span class="cm-number">8</span>, <span class="cm-number">3</span>, <span class="cm-variable">byrow</span> <span class="cm-operator">=</span> <span class="cm-variable">T</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">dimnames</span>(<span class="cm-variable">double_RV_STATE</span>)[[<span class="cm-number">2</span>]] <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-string">"0 outs"</span>, <span class="cm-string">"1 out"</span>, <span class="cm-string">"2 outs"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">dimnames</span>(<span class="cm-variable">double_RV_STATE</span>)[[<span class="cm-number">1</span>]] <span class="cm-operator cm-arrow">&lt;-</span> <span class="cm-variable">c</span>(<span class="cm-string">"000"</span>, <span class="cm-string">"001"</span>, <span class="cm-string">"010"</span>, <span class="cm-string">"011"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-string">"100"</span>, <span class="cm-string">"101"</span>, <span class="cm-string">"110"</span>, <span class="cm-string">"111"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">double_RV_STATE</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">000</span> &nbsp;<span class="cm-number">0.631</span> <span class="cm-number">0.404</span> &nbsp;<span class="cm-number">0.206</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">001</span> &nbsp;<span class="cm-number">0.795</span> <span class="cm-number">0.722</span> &nbsp;<span class="cm-number">0.938</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">010</span> &nbsp;<span class="cm-number">0.979</span> <span class="cm-number">0.986</span> &nbsp;<span class="cm-number">0.992</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">011</span> &nbsp;<span class="cm-number">1.205</span> <span class="cm-number">1.276</span> &nbsp;<span class="cm-number">1.764</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">100</span> &nbsp;<span class="cm-number">1.120</span> <span class="cm-number">0.933</span> &nbsp;<span class="cm-number">0.689</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">101</span> &nbsp;<span class="cm-number">1.260</span> <span class="cm-number">1.210</span> &nbsp;<span class="cm-number">1.469</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">110</span> &nbsp;<span class="cm-number">1.532</span> <span class="cm-number">1.534</span> &nbsp;<span class="cm-number">1.551</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">111</span> &nbsp;<span class="cm-number">1.901</span> <span class="cm-number">1.908</span> &nbsp;<span class="cm-number">2.123</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 391px;"></div><div class="CodeMirror-gutters" style="display: none; height: 391px;"></div></div></div></pre><p><span>Rather than following the codes introduced in the lecture notes, I created a </span><code>double_RV_STATE</code><span> matrix, which demonstrates the run value of doubles per each state.</span></p><ul><li><p><span>The most valuable double occurs when there are </span><strong><span>bases loaded with two outs</span></strong><span>.</span></p></li><li><p><span>The least valuable double occurs when there is </span><strong><span>no runner on base with two outs</span></strong><span>. This value is close to the difference between two values in </span><code>RUNS_out</code><span> in the lecture note. </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">RUNS_out</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">000</span> &nbsp; <span class="cm-number">0.50</span> &nbsp;<span class="cm-number">0.27</span> &nbsp; <span class="cm-number">0.11</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">001</span> &nbsp; <span class="cm-number">1.35</span> &nbsp;<span class="cm-number">0.94</span> &nbsp; <span class="cm-number">0.37</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">010</span> &nbsp; <span class="cm-number">1.13</span> &nbsp;<span class="cm-number">0.67</span> &nbsp; <span class="cm-number">0.31</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">011</span> &nbsp; <span class="cm-number">1.93</span> &nbsp;<span class="cm-number">1.36</span> &nbsp; <span class="cm-number">0.55</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">100</span> &nbsp; <span class="cm-number">0.86</span> &nbsp;<span class="cm-number">0.51</span> &nbsp; <span class="cm-number">0.22</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">101</span> &nbsp; <span class="cm-number">1.72</span> &nbsp;<span class="cm-number">1.20</span> &nbsp; <span class="cm-number">0.48</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">110</span> &nbsp; <span class="cm-number">1.44</span> &nbsp;<span class="cm-number">0.92</span> &nbsp; <span class="cm-number">0.41</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">111</span> &nbsp; <span class="cm-number">2.11</span> &nbsp;<span class="cm-number">1.54</span> &nbsp; <span class="cm-number">0.70</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><p><strong><span>0.31</span></strong><span> (from &quot;010&quot;, 2 outs) </span><strong><span>−</span></strong><span> </span><strong><span>0.11</span></strong><span> (from &quot;000&quot;, 2 outs) </span><strong><span>= 0.2</span></strong>
<span>Also, check the following for interpreting the run value of triples on &quot;000&quot;, 2 outs.</span>
<strong><span>0.37</span></strong><span> (from &quot;001&quot;, 2 outs) </span><strong><span>− 0.11</span></strong><span> (from &quot;000&quot;, 2 outs) </span><strong><span>= 0.26</span></strong></p></li></ul><p>&nbsp;</p><p><strong><span>Triples</span></strong></p><p><span>Similar analysis can be applied to triples. Of course, a triple is superior to a double, but there seems to be no substantial difference in interpreting the two. The explanation for doubles holds for triples, so only the results are excerpted. Please check </span><code>Sports_HW2_LeeJH.R</code><span> for full codes.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">triple_STATE</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span> <span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">000</span> &nbsp; &nbsp;<span class="cm-number">233</span> &nbsp; <span class="cm-number">150</span> &nbsp; &nbsp;<span class="cm-number">115</span> &nbsp; <span class="cm-number">0.27</span> &nbsp;<span class="cm-number">0.17</span> &nbsp; <span class="cm-number">0.13</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">001</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">3</span> &nbsp; &nbsp;<span class="cm-number">11</span> &nbsp; &nbsp; <span class="cm-number">16</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.02</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">010</span> &nbsp; &nbsp; <span class="cm-number">12</span> &nbsp; &nbsp;<span class="cm-number">27</span> &nbsp; &nbsp; <span class="cm-number">35</span> &nbsp; <span class="cm-number">0.01</span> &nbsp;<span class="cm-number">0.03</span> &nbsp; <span class="cm-number">0.04</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">011</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">4</span> &nbsp; &nbsp;<span class="cm-number">12</span> &nbsp; &nbsp; <span class="cm-number">10</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.01</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">100</span> &nbsp; &nbsp; <span class="cm-number">34</span> &nbsp; &nbsp;<span class="cm-number">61</span> &nbsp; &nbsp; <span class="cm-number">48</span> &nbsp; <span class="cm-number">0.04</span> &nbsp;<span class="cm-number">0.07</span> &nbsp; <span class="cm-number">0.05</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">101</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">8</span> &nbsp; &nbsp;<span class="cm-number">11</span> &nbsp; &nbsp; <span class="cm-number">14</span> &nbsp; <span class="cm-number">0.01</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.02</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">110</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span> &nbsp; &nbsp;<span class="cm-number">19</span> &nbsp; &nbsp; <span class="cm-number">23</span> &nbsp; <span class="cm-number">0.01</span> &nbsp;<span class="cm-number">0.02</span> &nbsp; <span class="cm-number">0.03</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">111</span> &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span> &nbsp; &nbsp; <span class="cm-number">9</span> &nbsp; &nbsp; <span class="cm-number">11</span> &nbsp; <span class="cm-number">0.00</span> &nbsp;<span class="cm-number">0.01</span> &nbsp; <span class="cm-number">0.01</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">c</span>(<span class="cm-variable">mean_triples</span>, <span class="cm-variable">med_triples</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator cm-dollar">$</span><span class="cm-variable">mean_run_value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">1.01</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator cm-dollar">$</span><span class="cm-variable">median_run_value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-number">1</span>] <span class="cm-number">0.849</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><img src="C:\Users\Lee\AppData\Roaming\Typora\typora-user-images\image-20210414020922347.png" alt="image-20210414020922347"  /></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded md-focus" lang="R"><div class="CodeMirror cm-s-inner CodeMirror-wrap CodeMirror-focused" lang="r"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 46px; left: 207.5px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&gt;</span> <span class="cm-variable">triple_RV_STATE</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-number">0</span> <span class="cm-variable">outs</span> <span class="cm-number">1</span> <span class="cm-variable">out</span> <span class="cm-number">2</span> <span class="cm-variable">outs</span></span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">000</span> &nbsp;<span class="cm-number">0.847</span> <span class="cm-number">0.669</span> &nbsp;<span class="cm-number">0.266</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">001</span> &nbsp;<span class="cm-number">1.000</span> <span class="cm-number">1.000</span> &nbsp;<span class="cm-number">1.000</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">010</span> &nbsp;<span class="cm-number">1.226</span> <span class="cm-number">1.276</span> &nbsp;<span class="cm-number">1.049</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">011</span> &nbsp;<span class="cm-number">1.418</span> <span class="cm-number">1.579</span> &nbsp;<span class="cm-number">1.824</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">100</span> &nbsp;<span class="cm-number">1.489</span> <span class="cm-number">1.411</span> &nbsp;<span class="cm-number">1.152</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">101</span> &nbsp;<span class="cm-number">1.624</span> <span class="cm-number">1.741</span> &nbsp;<span class="cm-number">1.894</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">110</span> &nbsp;<span class="cm-number">1.902</span> <span class="cm-number">2.016</span> &nbsp;<span class="cm-number">1.958</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">111</span> &nbsp;<span class="cm-number">2.241</span> <span class="cm-number">2.400</span> &nbsp;<span class="cm-number">2.677</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 230px;"></div><div class="CodeMirror-gutters" style="display: none; height: 230px;"></div></div></div></pre><p>&nbsp;</p></div>
</body>
</html>